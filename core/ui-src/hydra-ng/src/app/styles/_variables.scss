// Bootstrap 5.3 Color Mode Support
// Using Bootstrap's native color mode system with data-bs-theme attribute

// Enable dark mode support
$enable-dark-mode: true;

// Color mode type (data attribute approach for user control)
$color-mode-type: data;

// Custom color mode mixin for our components
@mixin color-mode($mode) {
  @if $color-mode-type == "data" {
    [data-bs-theme="#{$mode}"] & {
      @content;
    }
  } @else if $color-mode-type == "media-query" {
    @media (prefers-color-scheme: #{$mode}) {
      @content;
    }
  }
}

// Mixins for common patterns
@mixin theme-transition {
  transition: background-color 0.2s ease,
  color 0.2s ease,
  border-color 0.2s ease,
  box-shadow 0.2s ease;
}

@mixin focus-ring {
  &:focus {
    border-color: var(--bs-primary);
    box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
  }
}

@mixin hover-effect {
  &:hover {
    background-color: var(--bs-secondary-bg);
  }
}

@mixin selected-effect {
  &.selected {
    background-color: var(--bs-primary-bg-subtle);
  }
}

// Custom component styles using Bootstrap's color mode system
.search-status-overlay {
  @include color-mode(dark) {
    background-color: rgba(0, 0, 0, 0.7);
  }

  @include color-mode(light) {
    background-color: rgba(0, 0, 0, 0.5);
  }
}

.search-status-modal {
  @include color-mode(dark) {
    background-color: var(--bs-dark);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
  }

  @include color-mode(light) {
    background-color: var(--bs-light);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }
}

.modal-header {
  @include color-mode(dark) {
    background: linear-gradient(135deg, var(--bs-dark) 0%, var(--bs-secondary) 100%);
    border-bottom: 1px solid var(--bs-border-color);
  }

  @include color-mode(light) {
    background: linear-gradient(135deg, var(--bs-light) 0%, var(--bs-secondary-bg) 100%);
    border-bottom: 1px solid var(--bs-border-color);
  }
}

.modal-body {
  @include color-mode(dark) {
    color: var(--bs-body-color);
  }

  @include color-mode(light) {
    color: var(--bs-body-color);
  }
}

.modal-footer {
  @include color-mode(dark) {
    background-color: var(--bs-dark);
    border-top: 1px solid var(--bs-border-color);
  }

  @include color-mode(light) {
    background-color: var(--bs-secondary-bg);
    border-top: 1px solid var(--bs-border-color);
  }
}

.btn-close {
  @include color-mode(dark) {
    color: var(--bs-secondary-color);

    &:hover {
      color: var(--bs-body-color);
    }
  }

  @include color-mode(light) {
    color: var(--bs-secondary-color);

    &:hover {
      color: var(--bs-body-color);
    }
  }
}

.progress {
  @include color-mode(dark) {
    background-color: var(--bs-secondary-bg);
  }

  @include color-mode(light) {
    background-color: var(--bs-secondary-bg);
  }
}

.progress-bar {
  @include color-mode(dark) {
    background-color: var(--bs-primary);
  }

  @include color-mode(light) {
    background-color: var(--bs-primary);
  }
}

// Table styles
.table {
  @include color-mode(dark) {
    color: var(--bs-body-color);

    th {
      color: var(--bs-secondary-color);
      border-color: var(--bs-border-color);
    }

    td {
      border-color: var(--bs-border-color);
    }
  }

  @include color-mode(light) {
    color: var(--bs-body-color);

    th {
      color: var(--bs-secondary-color);
      border-color: var(--bs-border-color);
    }

    td {
      border-color: var(--bs-border-color);
    }
  }
}

// Dropdown styles
.dropdown-menu {
  @include color-mode(dark) {
    background-color: var(--bs-dark);
    border-color: var(--bs-border-color);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.4);
  }

  @include color-mode(light) {
    background-color: var(--bs-light);
    border-color: var(--bs-border-color);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175);
  }
}

.dropdown-item {
  @include color-mode(dark) {
    &:hover {
      background-color: var(--bs-secondary-bg);
    }
  }

  @include color-mode(light) {
    &:hover {
      background-color: var(--bs-secondary-bg);
    }
  }
}

// Selection styles
.search-result-row {
  @include color-mode(dark) {
    &.selected {
      background-color: var(--bs-primary-bg-subtle);
    }
  }

  @include color-mode(light) {
    &.selected {
      background-color: var(--bs-primary-bg-subtle);
    }
  }
}

// Sortable styles
.sortable {
  @include color-mode(dark) {
    &:hover {
      background-color: var(--bs-secondary-bg);
    }
  }

  @include color-mode(light) {
    &:hover {
      background-color: var(--bs-secondary-bg);
    }
  }
}

// Form control styles
.form-control {
  @include color-mode(dark) {
    &:focus {
      border-color: var(--bs-primary);
      box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
    }
  }

  @include color-mode(light) {
    &:focus {
      border-color: var(--bs-primary);
      box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
    }
  }
} 